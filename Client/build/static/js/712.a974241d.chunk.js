"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[712],{5712:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var n=t(9379),r=t(9950),s=t(1129),l=t(6559),o=t(3711),i=t(8796),d=t(900),u=t(7321),c=t(4666),m=t(6615),h=t(5532),p=t(4414);const v=()=>{const e=(0,l.Zp)(),a=(0,l.zy)(),{addUser:t}=(0,r.useContext)(h.c),[v,g]=(0,r.useState)({userName:"",password:""}),f=e=>{g((0,n.A)((0,n.A)({},v),{},{[e.target.name]:e.target.value}))};return(0,p.jsx)(o.A,{maxWidth:"sm",children:(0,p.jsxs)(i.A,{elevation:3,sx:{p:4,mt:4},children:[(0,p.jsx)(d.A,{variant:"h4",align:"center",gutterBottom:!0,children:"Login"}),(0,p.jsxs)(u.A,{component:"form",onSubmit:async n=>{n.preventDefault();try{const n=await s.A.post("/auth/login",v,{withCredentials:!0});if(n.data.userName){var r;t(n.data);const s=(null===(r=a.state)||void 0===r?void 0:r.from)||"/";e(s,{replace:!0})}}catch(i){var l,o;console.log((null===(l=i.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.error)||"Login failed")}},children:[(0,p.jsx)(c.A,{fullWidth:!0,label:"Username",name:"userName",value:v.userName,onChange:f,margin:"normal",required:!0}),(0,p.jsx)(c.A,{fullWidth:!0,label:"Password",name:"password",type:"password",value:v.password,onChange:f,margin:"normal",required:!0}),(0,p.jsx)(m.A,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:3},children:"Login"})]})]})})}}}]);